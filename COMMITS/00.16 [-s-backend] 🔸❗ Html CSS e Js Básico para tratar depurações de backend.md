00.16 [-s-backend] üî∏‚ùó Html CSS e Js B√°sico para tratar depura√ß√µes de backend

---

# ToggleButtonManager

## √çndice

- [Vis√£o Geral](#vis%C3%A3o-geral)
- [Vers√£o](#vers%C3%A3o)
- [Construtor da Classe](#construtor-da-classe)
- [Configura√ß√µes e Propriedades da Classe](#configura%C3%A7%C3%B5es-e-propriedades-da-classe)
- [M√©todos da Classe](#m%C3%A9todos-da-classe)
- [Eventos (DOMContentLoaded)](#eventos-domcontentloaded)
- [Valida√ß√µes](#valida%C3%A7%C3%B5es)
- [Exemplo B√°sico](#exemplo-b%C3%A1sico)
- [Op√ß√µes de Configura√ß√µes](#op%C3%A7%C3%B5es-de-configura%C3%A7%C3%B5es)
- [Como Instanciar](#como-instanciar)
- [C√≥digo da Classe Completo + Coment√°rio de Documenta√ß√£o](#c%C3%B3digo-da-classe-completo--coment%C3%A1rio-de-documenta%C3%A7%C3%A3o)
- [Ilustra√ß√£o](#ilustra√ß√£o)

## Vis√£o Geral

A classe `ToggleButtonManager` √© respons√°vel por gerenciar os bot√µes de altern√¢ncia em um formul√°rio, permitindo que o usu√°rio escolha op√ß√µes predefinidas para filtragem de dados. Esta documenta√ß√£o fornece detalhes sobre o uso, configura√ß√£o e exemplos de instala√ß√£o da classe.

## Vers√£o

Vers√£o atual: 1.0.0

## Construtor da Classe

```javascript
constructor(options)
```

O construtor da classe `ToggleButtonManager` aceita um objeto de op√ß√µes como par√¢metro.

## Configura√ß√µes e Propriedades da Classe

- `options` (objeto): Um objeto que cont√©m as configura√ß√µes da classe.

## M√©todos da Classe

### `formatDate(date)`

Formata uma data no formato "dd/mm/aaaa".

- `date` (objeto Date): A data a ser formatada.

### `calculateFirstDayOfWeek(today)`

Calcula o primeiro dia da semana com base em uma data de refer√™ncia.

- `today` (objeto Date): A data de refer√™ncia.

### `calculateFirstDayOfSecondHalfOfMonth(today)`

Calcula o primeiro dia da segunda metade do m√™s com base em uma data de refer√™ncia.

- `today` (objeto Date): A data de refer√™ncia.

### `handleButtonClick(button)`

Lida com o clique em um bot√£o de altern√¢ncia, atualizando os valores dos campos de data com base na op√ß√£o escolhida.

- `button` (elemento HTML): O bot√£o de altern√¢ncia clicado.

### `initialize()`

Inicializa a classe, selecionando os elementos HTML relevantes e anexando os ouvintes de eventos.

### `attachEventListeners()`

Anexa ouvintes de eventos aos bot√µes de altern√¢ncia.

## Eventos (DOMContentLoaded)

A classe `ToggleButtonManager` √© inicializada automaticamente quando o evento `DOMContentLoaded` √© disparado.

## Valida√ß√µes

Nenhum.

## Exemplo B√°sico

```javascript
const options = {
    buttonSelector: 'button.toggleButton',
    dtInicialSelector: '#in_dtInicial',
    dtFinalSelector: '#in_dtFinal',
    valueContentAttribute: 'value-content',
};

const toggleButtonManager = new ToggleButtonManager(options);
```

## Op√ß√µes de Configura√ß√µes

- `buttonSelector` (string): Um seletor CSS para os bot√µes de altern√¢ncia.
- `dtInicialSelector` (string): Um seletor CSS para o campo de data inicial.
- `dtFinalSelector` (string): Um seletor CSS para o campo de data final.
- `valueContentAttribute` (string): O nome do atributo que cont√©m os valores de altern√¢ncia.

## Como Instanciar

Crie um objeto `options` com as configura√ß√µes desejadas e, em seguida, instancie a classe `ToggleButtonManager` com esse objeto.

```javascript
const options = {
    buttonSelector: 'button.toggleButton',
    dtInicialSelector: '#in_dtInicial',
    dtFinalSelector: '#in_dtFinal',
    valueContentAttribute: 'value-content',
};

const toggleButtonManager = new ToggleButtonManager(options);
```

## C√≥digo da Classe Completo + Coment√°rio de Documenta√ß√£o

```JS
/**
 * ‚úîÔ∏è Classe ToggleButtonManager para gerenciar os bot√µes de altern√¢ncia.
 */
class ToggleButtonManager {
    /**
     * Construtor da classe ToggleButtonManager.
     * @param {Object} options - Op√ß√µes para a configura√ß√£o da classe.
     * @param {string} options.buttonSelector - Seletor dos bot√µes de altern√¢ncia.
     * @param {string} options.dtInicialSelector - Seletor do campo de data inicial.
     * @param {string} options.dtFinalSelector - Seletor do campo de data final.
     * @param {string} options.valueContentAttribute - Atributo que cont√©m o valor de conte√∫do dos bot√µes.
     */
    constructor(options) {
        this.options = options;
        this.attachDOMContentLoadedListener();
    }

    /**
     * M√©todo para formatar uma data no formato dd/mm/aaaa.
     * @param {Date} date - A data a ser formatada.
     * @returns {string} - A data formatada.
     */
    formatDate(date) {
        const day = String(date.getDate()).padStart(2, '0');
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const year = date.getFullYear();
        return `${day}/${month}/${year}`;
    }

    /**
     * M√©todo para calcular o primeiro dia da semana com base em uma data.
     * @param {Date} today - A data de refer√™ncia.
     * @returns {Date} - O primeiro dia da semana.
     */
    calculateFirstDayOfWeek(today) {
        const firstDayOfWeek = new Date(today);
        firstDayOfWeek.setDate(today.getDate() - today.getDay());
        return firstDayOfWeek;
    }

    /**
     * M√©todo para calcular o primeiro dia da segunda metade do m√™s com base em uma data.
     * @param {Date} today - A data de refer√™ncia.
     * @returns {Date} - O primeiro dia da segunda metade do m√™s.
     */
    calculateFirstDayOfSecondHalfOfMonth(today) {
        const firstDayOfSecondHalf = new Date(today.getFullYear(), today.getMonth(), 15);
        if (today.getDate() > 15) {
            firstDayOfSecondHalf.setMonth(today.getMonth() + 1);
        }
        return firstDayOfSecondHalf;
    }

    /**
     * Manipula o clique em um bot√£o de altern√¢ncia.
     * @param {HTMLElement} button - O bot√£o clicado.
     */
    handleButtonClick(button) {
        this.toggleButtons.forEach(btn => {
            btn.classList.remove('activeToggleButton');
        });

        button.classList.add('activeToggleButton');

        const valueContent = button.getAttribute(this.options.valueContentAttribute);
        console.log(`Valor do atributo "${this.options.valueContentAttribute}": ${valueContent}`);

        if (valueContent === 'Nenhum') {
            this.dtInicialInput.value = '';
            this.dtFinalInput.value = '';
        }
        if (valueContent === 'Hoje') {
            const today = new Date();
            const formattedDate = this.formatDate(today);
            this.dtInicialInput.value = formattedDate;
            this.dtFinalInput.value = formattedDate;
        }
        if (valueContent === 'Esta semana') {
            const today = new Date();
            const firstDayOfWeek = this.calculateFirstDayOfWeek(today);
            const formattedFirstDayOfWeek = this.formatDate(firstDayOfWeek);
            const formattedToday = this.formatDate(today);
            this.dtInicialInput.value = formattedFirstDayOfWeek;
            this.dtFinalInput.value = formattedToday;
        }
        if (valueContent === 'Esta quinzena') {
            const today = new Date();
            const firstDayOfSecondHalf = this.calculateFirstDayOfSecondHalfOfMonth(today);
            const formattedFirstDayOfSecondHalf = this.formatDate(firstDayOfSecondHalf);
            const formattedToday = this.formatDate(today);
            this.dtInicialInput.value = formattedToday;
            this.dtFinalInput.value = formattedFirstDayOfSecondHalf;
        }
        if (valueContent === 'Este m√™s') {
            const today = new Date();
            const lastDayOfMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0);
            const formattedFirstDayOfMonth = this.formatDate(new Date(today.getFullYear(), today.getMonth(), 1));
            const formattedLastDayOfMonth = this.formatDate(lastDayOfMonth);
            this.dtInicialInput.value = formattedFirstDayOfMonth;
            this.dtFinalInput.value = formattedLastDayOfMonth;
        }
    }

    /**
     * Inicializa a classe ToggleButtonManager.
     */
    initialize() {
        console.log("ToggleButtonManager iniciada no DOMContentLoaded");
        this.toggleButtons = document.querySelectorAll(this.options.buttonSelector);
        this.dtInicialInput = document.querySelector(this.options.dtInicialSelector);
        this.dtFinalInput = document.querySelector(this.options.dtFinalSelector);

        this.attachEventListeners();
    }

    /**
     * Anexa os ouvintes de evento aos bot√µes de altern√¢ncia.
     */
    attachEventListeners() {
        this.toggleButtons.forEach(button => {
            button.addEventListener('click', () => {
                this.handleButtonClick(button);
            });
        });
    }

    /**
     * Anexa um ouvinte de evento para o evento DOMContentLoaded.
     */
    attachDOMContentLoadedListener() {
        document.addEventListener('DOMContentLoaded', () => {
            this.initialize();
        });
    }
}

```
Como foi instanciado
======
```JS

// Op√ß√µes para configurar a classe ToggleButtonManager
const options = {
    buttonSelector: 'button.toggleButton',
    dtInicialSelector: '#in_dtInicial',
    dtFinalSelector: '#in_dtFinal',
    valueContentAttribute: 'value-content',
};

// Inst√¢ncia da classe ToggleButtonManager com as op√ß√µes
const toggleButtonManager = new ToggleButtonManager(options);

```



### Ilustra√ß√£o
---
![00 16  -s-backend  üî∏‚ùó Html CSS e Js B√°sico para tratar depura√ß√µes de backend](https://github.com/H7-Dev/README.X/assets/93455937/74f187ac-9d09-4bf4-b2cd-c293b3c848fd)
